<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/templateAdmin.xhtml">
	<ui:define name="content">
	<div class="container">
		<div class="panel panel-warning">
			<div class="panel-heading" style="text-align: center;">
				#{strings.configuracoesMensagens}
			</div>
		 	<div class="panel-body" style="text-align: center;">    
				<h:outputText value="#{strings.mensagem1}"/>
			</div>
		</div>
		<p:messages autoUpdate="true"/>
		<p:tabView>
			<p:tab title="#{strings.configuracoesGlobais}">
				<h:form enctype="multipart/form-data">
					<h:panelGrid columns="3">
							<p:outputLabel value="#{strings.urlMemoriaVirtual}:"/>
							<p:inputText value="#{indexAdm.config.urlMemoria}" styleClass="input450" id="urlMV"/>
							<p:tooltip for="urlMV" value="#{strings.tipForUrlMemoriaVirtual}" />
							
							<p:outputLabel value="#{strings.nomeInstituicaoMemoriaVirtual}:"/>
							<p:inputText value="#{indexAdm.config.nomeInstituicaoMemoria}" styleClass="input450" id="nomeInsMV"/>
							<p:tooltip for="nomeInsMV" value="#{strings.tipForNomeInstituicaoMemoriaVirtual}"/>
							
							<p:outputLabel value="#{strings.loginMemoria}:"/>
							<p:inputText value="#{indexAdm.config.memoriaVirtualLogin}" styleClass="input450" id="mvLogin"/>
							<p:tooltip for="mvLogin" value="#{strings.tipForLoginMemoria}"/>
							
							<p:outputLabel value="#{strings.senhaMemoria}:"/>
							<p:inputText value="#{indexAdm.config.memoriaVirtualSenha}" styleClass="input450" id="mvSenha"/>
							<p:tooltip for="mvSenha" value="#{strings.tipForSenhaMemoria}"/>
							
							<p:outputLabel value="#{strings.urlWordpress}:"/>
							<p:inputText value="#{indexAdm.config.urlWordpress}" styleClass="input450" id="urlWP"/>
							<p:tooltip for="urlWP" value="#{strings.tipForUrlWordpress}"/>
							
							<p:outputLabel value="#{strings.urlFreeGeoIP}:"/>
							<p:inputText value="#{indexAdm.config.urlFreeGeoIP}" styleClass="input450" id="urlGeoIP"/>
							<p:tooltip for="urlGeoIP" value="#{strings.tipForUrlFreeGeoIP}"  />
							
							<p:outputLabel value="#{strings.urlPortal}:"/>
							<p:inputText value="#{indexAdm.config.urlPortal}" styleClass="input450" id="urlPortal"/>
							<p:tooltip for="urlPortal" value="#{strings.tipForUrlPortal}" />
							
							<p:outputLabel value="#{strings.emailPortal}:"/>
							<p:inputText value="#{indexAdm.config.emailPortal}" styleClass="input450" id="emailPortal"/>
							<p:tooltip for="emailPortal" value="#{strings.tipForEmailPortal}" />
							
							<p:outputLabel value="#{strings.logoPortal}:"/>
							<h:inputFile value="#{indexAdm.logo}"/>
							<p:tooltip/>
							
							<p:outputLabel value="#{strings.logoAtual}:"/>
							<img src="/logo" class="img_logo" title="Logo" alt="logo" style="height: 136px; width:auto;"/>
							<p:tooltip/>
								
					</h:panelGrid>
					<h:panelGrid columns="2" style="margin-top: 20px">
						<h:commandButton value="#{strings.reiniciar}" actionListener="#{indexAdm.reiniciar}" styleClass="btn btn-sm btn-warning"/>
						<h:commandButton value="#{strings.salvar}" actionListener="#{indexAdm.salvar}" styleClass="btn btn-sm btn-primary" style="margin-left: 10px"/>
					</h:panelGrid>
				</h:form>
			</p:tab>
			
			<p:tab title="#{strings.testarServicos}">
				<h:form>
					<h:panelGrid columns="2" id="testes">
						<h:outputLabel value="#{strings.memoriaVirtual}: "/>
						<h:outputText value="#{indexAdm.memoriaVirtual}"/>
						
						<h:outputLabel value="#{strings.wordpress}: "/>
						<h:outputText value="#{indexAdm.wordpress}"/>
						
						<h:outputLabel value="#{strings.freeGeoIP}: "/>
						<h:outputText value="#{indexAdm.freeGeoUIP}"/>
					</h:panelGrid>
					<h:commandButton value="#{strings.realizarTeste}" actionListener="#{indexAdm.testeServicos}"
						styleClass="btn btn-sm btn-success"/>
				</h:form>
			</p:tab>
			
			<p:tab title="#{strings.socialEInstitucional}">
				<h:form>
					<h:panelGrid columns="2" id="T3">
						<p:outputLabel value="Url Facebook:"/>
						<p:inputText value="#{indexAdm.config.facebook}" styleClass="input450"/>
						
						<p:outputLabel value="Url Twitter:"/>
						<p:inputText value="#{indexAdm.config.twitter}" styleClass="input450"/>
						
						<p:outputLabel value="Url Flickr:"/>
						<p:inputText value="#{indexAdm.config.flickr}" styleClass="input450"/>
						
						<p:outputLabel value="Url Youtube:"/>
						<p:inputText value="#{indexAdm.config.youtube}" styleClass="input450"/>
						
						<p:outputLabel value="#{strings.instituicaoMuseuPertence}:"/>
						<p:inputText value="#{indexAdm.config.nomeInstituicao}" styleClass="input450"/>
						
						<p:outputLabel value="#{strings.urlInstituicao}:"/>
						<p:inputText value="#{indexAdm.config.urlInstituicao}" styleClass="input450"/>
					</h:panelGrid>
				
					<h:panelGrid columns="2" style="margin-top: 20px">
						<h:commandButton value="#{strings.reiniciar}" actionListener="#{indexAdm.reiniciar}"
							styleClass="btn btn-sm btn-warning">
							<f:ajax execute="@form" render="@form"/>
						</h:commandButton>
						<h:commandButton value="#{strings.salvar}" actionListener="#{indexAdm.salvar}"
							styleClass="btn btn-sm btn-primary" style="margin-left: 10px">
							<f:ajax execute="@form" render="@form"/>
						</h:commandButton>
					</h:panelGrid>
				</h:form>
			</p:tab>
			
			<p:tab title="#{strings.configuracoesWordpress}">
				<h:form>
					<h:panelGrid columns="2">
						<button onclick="PF('ajuda1t4').show();" class="btn btn-sm btn-primary" type="button">?</button>
						<h:outputText value="#{strings.paginas}" styleClass="h2"/>
					</h:panelGrid>
					
					<h:panelGrid columns="6" id="T4">
						<p:outputLabel value="#{strings.paginaPadrao}"/>
						<p:inputText value="#{indexAdm.config.padrao}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.ajudeOMuseu}"/>
						<p:inputText value="#{indexAdm.config.ajudeOMuseu}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.buscarNoAcervo}"/>
						<p:inputText value="#{indexAdm.config.acervo}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item1}"/>
						<p:inputText value="#{indexAdm.config.item1}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item2}"/>
						<p:inputText value="#{indexAdm.config.item2}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item3}"/>
						<p:inputText value="#{indexAdm.config.item3}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item4}"/>
						<p:inputText value="#{indexAdm.config.item4}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item5}"/>
						<p:inputText value="#{indexAdm.config.item5}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item6}"/>
						<p:inputText value="#{indexAdm.config.item6}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item7}"/>
						<p:inputText value="#{indexAdm.config.item7}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item8}"/>
						<p:inputText value="#{indexAdm.config.item8}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item9}"/>
						<p:inputText value="#{indexAdm.config.item9}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item10}"/>
						<p:inputText value="#{indexAdm.config.item10}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item11}"/>
						<p:inputText value="#{indexAdm.config.item11}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item12}"/>
						<p:inputText value="#{indexAdm.config.item12}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item13}"/>
						<p:inputText value="#{indexAdm.config.item13}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item14}"/>
						<p:inputText value="#{indexAdm.config.item14}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item15}"/>
						<p:inputText value="#{indexAdm.config.item15}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item16}"/>
						<p:inputText value="#{indexAdm.config.item16}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item17}"/>
						<p:inputText value="#{indexAdm.config.item17}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item18}"/>
						<p:inputText value="#{indexAdm.config.item18}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item19}"/>
						<p:inputText value="#{indexAdm.config.item19}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item20}"/>
						<p:inputText value="#{indexAdm.config.item20}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item21}"/>
						<p:inputText value="#{indexAdm.config.item21}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item22}"/>
						<p:inputText value="#{indexAdm.config.item22}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item23}"/>
						<p:inputText value="#{indexAdm.config.item23}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item24}"/>
						<p:inputText value="#{indexAdm.config.item24}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.item25}"/>
						<p:inputText value="#{indexAdm.config.item25}" styleClass="inputNumber"/>						
					</h:panelGrid>
					
					<h:panelGrid columns="2">				
						<button onclick="PF('ajuda2t4').show();" class="btn btn-sm btn-primary" type="button">?</button>
						<h:outputText value="#{strings.tags}" styleClass="h2"/>
					</h:panelGrid>
					
					<h:panelGrid columns="2" id="T4_2">
						<p:outputLabel value="#{strings.tagNoticias}:"/>
						<p:inputText value="#{indexAdm.config.tagNews}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.tagEventos}:"/>
						<p:inputText value="#{indexAdm.config.tagEvents}" styleClass="inputNumber"/>
						
						<p:outputLabel value="#{strings.tagVoceSabia}:"/>
						<p:inputText value="#{indexAdm.config.tagVoceSabia}" styleClass="inputNumber"/>
					</h:panelGrid>	
									
					<h:panelGrid columns="2" style="margin-top: 20px">
							<h:commandButton value="#{strings.reiniciar}" actionListener="#{indexAdm.reiniciar}"
								styleClass="btn btn-sm btn-warning">
								<f:ajax execute="@form" render="@form"/>
							</h:commandButton>
							<h:commandButton value="#{strings.salvar}" actionListener="#{indexAdm.salvar}" styleClass="btn btn-sm btn-primary" style="margin-left: 10px">
								<f:ajax execute="@form" render="@form"/>
							</h:commandButton>
					</h:panelGrid>
					<p:dialog header="Ajuda" widgetVar="ajuda1t4" position="center">
						<h:outputText value="#{strings.ajuda1T4}" style="width: 400px;display:block;"/>
						<h:outputText value="#{strings.ajuda2T4}" style="width: 400px;display:block;"/>
					</p:dialog>
					<p:dialog header="Ajuda" widgetVar="ajuda2t4" position="center">
						<h:outputText value="#{strings.ajuda3T4}" style="width: 400px;display:block;"/>
						<h:outputText value="#{strings.ajuda4T4}" style="width: 400px;display:block;"/>
					</p:dialog>
				</h:form>
			</p:tab>
			
			<p:tab title="#{strings.slidePrincipal}">
				<h:form enctype="multipart/form-data">					
					<h:commandButton value="#{strings.adicionarSlide}"  action="#{indexAdm.addSlide}"  id="uploadButton" />
					<h:inputFile id="inputFile" value="#{indexAdm.uploadSlide}"/>
					<p:dataGrid value="#{indexAdm.config.slides}" var="slide" binding="#{indexAdm.tabelaSlides}" rowIndexVar="iterador">
						<p:column>
							<h:panelGrid columns="1">
								<img src="/slide?id=#{slide.id}" style="height: auto; width:290px;"/>
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:outputLabel value="Link:"/>
								<p:inputText value="#{slide.link}" styleClass="inputLink"/>
								<p:outputLabel value="#{strings.titulo}:"/>
								<p:inputText value="#{slide.titulo}" styleClass="inputLink"/>
							</h:panelGrid>
							<h:panelGrid columns="1">
								<p:outputLabel value="#{strings.texto}:"/>
								<p:inputTextarea value="#{slide.texto}" maxlength="650" style="width: 290px; height: 200px;"/>
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:outputLabel value="#{strings.ordemExibicao}:"/>
								<h:outputText value="#{slide.ordem}"/>
							</h:panelGrid>
							<h:panelGrid columns="3">
								<h:commandButton value="#{strings.subirOrdemExibicao}" styleClass="btn btn-sm btn-primary"
									actionListener="#{indexAdm.aumentarOrdem}" disabled="#{slide.ordem == 1}"/>
								<h:commandButton value="#{strings.removerSlide}" styleClass="btn btn-sm btn-danger"
									actionListener="#{indexAdm.removeSlide}"/>
							</h:panelGrid>
						</p:column>
					</p:dataGrid>							
					<h:panelGrid columns="2" style="margin-top: 20px;">
							<h:commandButton value="#{strings.reiniciar}" actionListener="#{indexAdm.reiniciar}" styleClass="btn btn-sm btn-warning"/>
							<h:commandButton value="#{strings.salvar}" actionListener="#{indexAdm.salvar}" styleClass="btn btn-sm btn-primary" style="margin-left: 10px"/>
					</h:panelGrid>
				</h:form>
			</p:tab>
			
			<p:tab title="#{strings.Mapa}">
			
			</p:tab>
			
			<p:tab title="#{strings.MapaBusca}">
			
			</p:tab>
			
			<p:tab title="#{strings.acessosAoPortal}">
				<h:form>					
					<p:watermark for="ptCal" value="#{strings.clickParaSelecionar}" />
					<p:commandButton value="#{strings.listarPorData}" actionListener="#{acessosPortal.novaPesquisaPorData}"
						update="tabelaAcessos anterior proximo"/> 
					<p:calendar locale="pt" showButtonPanel="true" navigator="true" id="ptCal" value="#{acessosPortal.dataBusca}" styleClass="calendario"/>
					
					<div style="both:clear"/>
					
					<p:commandButton value="#{strings.listarTodos}" actionListener="#{acessosPortal.novaListagemAcessos}" 
						update="tabelaAcessos anterior proximo"/> 
					
					<div style="both:clear"/>
					
					<h:outputText value="#{strings.totalAcessosAoPortal}: "/>
					<h:outputText value="#{acessosPortal.totalAcessosBusca}"/>
					<p:dataTable value="#{acessosPortal.acessos}" var="acesso" emptyMessage="Sem Resultados" id="tabelaAcessos">		
						<f:facet name="header">
								#{strings.listagemDeAcessos}
						</f:facet>		
						<p:column>
							<f:facet name="header">
								#{strings.ip}
							</f:facet>
							<h:outputText value="#{acesso.ip}" />
						</p:column>
						
						<p:column>
							<f:facet name="header">
								#{strings.pais}
							</f:facet>
							<h:outputText value="#{acesso.countryName}" />
						</p:column>
						
						<p:column>
							<f:facet name="header">
								#{strings.estado}
							</f:facet>
							<h:outputText value="#{acesso.regionName}" />
						</p:column>
						
						<p:column>
							<f:facet name="header">
								#{strings.cidade}
							</f:facet>
							<h:outputText value="#{acesso.city}" />
						</p:column>
						
						<p:column>
							<f:facet name="header">
								#{strings.dataAcesso}
							</f:facet>
							<h:outputText value="#{acesso.acessDate}" />
						</p:column>
					</p:dataTable>
					<div style="display: block; text-align: center; margin: 0 auto;">
						<h:commandButton value="#{strings.anterior}" actionListener="#{acessosPortal.paginaAnteriorAcesso}"  
							id="anterior" disabled="#{acessosPortal.paginaAtualAcesso == 0}" styleClass="btn btn-sm btn-primary" style="margin-right:5px;">
							<f:ajax execute="@form" render="@form"/>
						</h:commandButton>
						<h:commandButton value="#{strings.proximo}" actionListener="#{acessosPortal.proximaPaginaAcesso}" 
							id="proximo" disabled="#{acessosPortal.ultimaPagina}" styleClass="btn btn-sm btn-primary" style="margin-left:5px;">
							<f:ajax execute="@form" render="@form"/>
						</h:commandButton>
					</div>
				</h:form>
			</p:tab>
		</p:tabView>
		</div>
	</ui:define>
</ui:composition>
</html>